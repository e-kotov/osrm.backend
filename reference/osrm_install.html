<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Install OSRM Backend Binaries — osrm_install • osrm.backend</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Install OSRM Backend Binaries — osrm_install"><meta name="description" content="Downloads and installs pre-compiled binaries for the OSRM backend from the official GitHub releases. The function automatically detects the user's operating system and architecture to download the appropriate files. Only the latest v5 release (v5.27.1) and v6.0.0 were manually tested and are known to work well; other releases available on GitHub can be installed but are not guranteed to function correctly."><meta property="og:description" content="Downloads and installs pre-compiled binaries for the OSRM backend from the official GitHub releases. The function automatically detects the user's operating system and architecture to download the appropriate files. Only the latest v5 release (v5.27.1) and v6.0.0 were manually tested and are known to work well; other releases available on GitHub can be installed but are not guranteed to function correctly."><!-- counter.dev analytics --><script data-goatcounter="https://jukadipos.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><!-- counter.dev analytics --><script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script><script>
 (function(h,o,t,j,a,r){
     h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
     h._hjSettings={hjid:3578286,hjsv:6};
     a=o.getElementsByTagName('head')[0];
     r=o.createElement('script');r.async=1;
     r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
     a.appendChild(r);
 })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osrm.backend</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/osrm-backend.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/e-kotov/osrm.backend/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Install OSRM Backend Binaries</h1>
      <small class="dont-index">Source: <a href="https://github.com/e-kotov/osrm.backend/blob/main/R/osrm_install.R" class="external-link"><code>R/osrm_install.R</code></a></small>
      <div class="d-none name"><code>osrm_install.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Downloads and installs pre-compiled binaries for the OSRM backend from the official GitHub releases. The function automatically detects the user's operating system and architecture to download the appropriate files. Only the latest v5 release (<code>v5.27.1</code>) and <code>v6.0.0</code> were manually tested and are known to work well; other releases available on GitHub can be installed but are not guranteed to function correctly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">osrm_install</span><span class="op">(</span></span>
<span>  version <span class="op">=</span> <span class="st">"v5.27.1"</span>,</span>
<span>  dest_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  path_action <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"session"</span>, <span class="st">"project"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>A string specifying the OSRM version tag to install.
Defaults to <code>"v5.27.1"</code>. Use <code>"latest"</code> to automatically find the most
recent stable version by calling <code><a href="osrm_check_latest_version.html">osrm_check_latest_version()</a></code>. Versions
other than <code>v5.27.1</code> and <code>v6.0.0</code> will trigger a warning but are still
attempted if binaries are available.</p></dd>


<dt id="arg-dest-dir">dest_dir<a class="anchor" aria-label="anchor" href="#arg-dest-dir"></a></dt>
<dd><p>A string specifying the directory where OSRM binaries should be installed.
If <code>NULL</code> (the default), a user-friendly, persistent location is chosen via
<code>tools::R_user_dir("osrm.backend", which = "cache")</code>.</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>A logical value. If <code>TRUE</code>, reinstall OSRM even if it's already found in <code>dest_dir</code>.
If <code>FALSE</code> (default), the function will stop if an existing installation is detected.</p></dd>


<dt id="arg-path-action">path_action<a class="anchor" aria-label="anchor" href="#arg-path-action"></a></dt>
<dd><p>A string specifying how to handle the system <code>PATH</code>. One of:</p><ul><li><p><code>"session"</code> (default): Adds the OSRM bin directory to the <code>PATH</code> for the current R session only.</p></li>
<li><p><code>"project"</code>: Modifies the <code>.Rprofile</code> in the current project to set the <code>PATH</code> for all future sessions in that project.</p></li>
<li><p><code>"none"</code>: Does not modify the <code>PATH</code>.</p></li>
</ul></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>A logical value. If <code>TRUE</code>, suppresses the confirmation prompt when <code>path_action = "project"</code>.
Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The path to the installation directory, invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function performs the following steps:</p><ol><li><p>Queries the GitHub API to find the specified release of <code>Project-OSRM/osrm-backend</code>.</p></li>
<li><p>Identifies the correct binary (<code>.tar.gz</code> archive) for the user's OS (Linux, macOS, or Windows) and architecture (x64, arm64).</p></li>
<li><p>Downloads the archive to a temporary location.</p></li>
<li><p>Extracts the archive and locates the OSRM executables (e.g., <code>osrm-routed</code>, <code>osrm-extract</code>).</p></li>
<li><p>Copies these executables to a local directory (defaults to <code>tools::R_user_dir("osrm.backend", which = "cache")</code>).</p></li>
<li><p>Downloads the matching Lua profiles from the release tarball and installs them alongside the binaries.</p></li>
<li><p>Optionally modifies the <code>PATH</code> environment variable for the current session or project.</p></li>
</ol><p>macOS users should note that upstream OSRM v6.x binaries are built for macOS 15.0 (Sequoia, Darwin 24.0.0) or newer.
<code>osrm_install()</code> automatically blocks v6 installs on older macOS releases and, when <code>version = "latest"</code>,
selects the most recent v5 build instead while warning about the requirement. Warnings include both the
marketing version and Darwin kernel so you'll see messages like <code>macOS 13 Ventura [Darwin 22.6.0]</code>.</p>
<p>When installing OSRM v6.x for Windows, the upstream release omits the Intel
Threading Building Blocks (TBB) runtime and a compatible <code>bz2</code> DLL. To keep
the executables runnable out of the box, <code>osrm_install()</code> fetches TBB from
<a href="https://github.com/uxlfoundation/oneTBB/releases/tag/v2022.3.0" class="external-link">oneTBB
v2022.3.0</a> and the BZip2 runtime from
<a href="https://github.com/philr/bzip2-windows/releases/tag/v1.0.8.0" class="external-link">bzip2-windows
v1.0.8.0</a>, verifying their SHA-256 checksums before extraction. Without these
extra libraries, the OSRM v6 binaries shipped for Windows cannot start.</p>
<p>On macOS, OSRM v6.x binaries also miss the bundled TBB runtime. The installer
reuses the libraries from release <code>v5.27.1</code> to keep the binaries functional
and patches their <code>libbz2</code> linkage using <code>install_name_tool</code> so that they load
the system-provided BZip2 runtime.</p>
<p>Power users (including package authors running cross-platform tests) can
override the auto-detected platform by setting the R options
<code>osrm.backend.override_os</code> and <code>osrm.backend.override_arch</code> (e.g.,
<code>options(osrm.backend.override_os = "linux", osrm.backend.override_arch = "arm64")</code>)
before calling <code>osrm_install()</code>. Overrides allow requesting binaries for any
OS and CPU combination that exists on the GitHub releases.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Install the default stable version and set PATH for this session</span></span></span>
<span class="r-in"><span><span class="fu">osrm_install</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Install for a project non-interactively (e.g., in a script)</span></span></span>
<span class="r-in"><span><span class="fu">osrm_install</span><span class="op">(</span>path_action <span class="op">=</span> <span class="st">"project"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Clean up the project's .Rprofile</span></span></span>
<span class="r-in"><span><span class="fu"><a href="osrm_clear_path.html">osrm_clear_path</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.ekotov.pro" class="external-link">Egor Kotov</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

